"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var user_1=require("../models/user"),mongoose=require("mongoose");function getUser(e,s,t){user_1.User.find().select("firstName lastName").exec().then(function(e){console.log(e),s.status(200).json({count:e.length,result:e})}).catch(function(e){s.status(500).json({err:e})})}function getUserById(e,s,t){var r=e.params.id;user_1.User.find().where("email",r).select("firstName lastName").exec().then(function(e){s.status(200).json({result:e})}).catch(function(e){s.status(500).json({err:e})})}function createNewUser(s,t,e){user_1.User.find({email:s.body.email}).exec().then(function(e){1<=e.length?t.status(409).json({message:"Email Already exists"}):new user_1.User({_id:new mongoose.Types.ObjectId,firstName:s.body.firstName,lastName:s.body.lastName,middleName:s.body.middleName,phone:s.body.phone,email:s.body.email,address:s.body.address}).save().then(function(e){return console.log(e),t.status(201).json({status:201,result:e})}).catch(function(e){return console.error(e),t.status(500).json({err:e})})})}exports.getUser=getUser,exports.getUserById=getUserById,exports.createNewUser=createNewUser;